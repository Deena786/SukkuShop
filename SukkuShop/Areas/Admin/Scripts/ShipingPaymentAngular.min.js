function isValidPrice(n){var t=new RegExp(/^[0-9]{1}[0-9]*[,.]{0,1}[0-9]{0,2}$|^$/);return t.test(n)}function showAjaxLoader(){var n=jQuery("#ajax-processing");n.length===0&&(jQuery("body").append("<div id='ajax-processing'><\/div>"),n=jQuery("#ajax-processing"));n.show()}function showAjaxTick(){var n=jQuery("#ajax-completetick");n.length===0&&(jQuery("body").append("<div id='ajax-completetick'>&#10004;<\/div>"),n=jQuery("#ajax-completetick"));n.show()}function fadeOutAjaxTick(){jQuery("#ajax-completetick").stop().fadeOut(1e3)}function hideAjaxTick(){jQuery("#ajax-completetick").stop().hide()}function hideAjaxLoader(){jQuery("#ajax-processing").hide()}jQuery(document).bind("mousemove",function(n){jQuery("#ajax-processing,#ajax-completetick").css({left:n.pageX+20,top:n.pageY})});var adminApp=angular.module("adminApp",[]);adminApp.controller("AdminPayShipCtrl",["$scope","$http",function(n,t){function i(t){for(var r=[],i=0;i<t.length;i++)n.onlyActiveShipping==!1?r.push(t[i]):n.onlyActiveShipping&&t[i].Active==!0&&r.push(t[i]);n.shippingList=r}function r(t){for(var r=[],i=0;i<t.length;i++)n.onlyActivePayment==!1?r.push(t[i]):n.onlyActivePayment&&t[i].Active==!0&&r.push(t[i]);n.paymentList=r}n.newPaymentName="";n.newPaymentDescription="";n.newPaymentPrice="";n.newShippingName="";n.newShippingDescription="";n.newShippingPrice="";n.newShippingWeight="";n.invalidShippingForm=!1;n.invalidPaymentForm=!1;n.invalidPaymentPrice=!1;n.invalidShippingPrice=!1;n.invalidShippingWeight=!1;n.editShippingDescriptionActive=!1;n.editShippingWeightDescriptionActive=!1;n.editPaymentDescriptionActive=!1;n.shippingEditorValue="";n.paymentEditorValue="";n.shippingWeightEditorValue="";n.init=function(){n.onlyActiveShipping=!1;n.onlyActivePayment=!1;n.addShippingActive=!1;n.addPaymentActive=!1;t.get("/Admin/DostawyPlatnosci/GetDataJson").success(function(t){n.shippingTotal=t.shipping;n.paymentTotal=t.payment;n.shippingList=n.shippingTotal;n.paymentList=n.paymentTotal})};n.ActivateShippingEditor=function(t,i){if(!n.editShippingDescriptionActive){n.editShippingDescriptionActive=!0;var r=$.grep(n.shippingTotal,function(n){return n.ShippingId==t});r[0].editActive=!0;n.shippingEditorValue=i}};n.ActivateWeightShippingEditor=function(t,i){if(!n.editShippingWeightDescriptionActive){n.editShippingWeightDescriptionActive=!0;var r=$.grep(n.shippingTotal,function(n){return n.ShippingId==t});r[0].editWeight=!0;n.shippingWeightEditorValue=i}};n.DeactivateShippingEditor=function(t){if(n.editShippingDescriptionActive){n.editShippingDescriptionActive=!1;var i=$.grep(n.shippingTotal,function(n){return n.ShippingId==t});i[0].editActive=!1}};n.DeactivateWeightShippingEditor=function(t){if(n.editShippingWeightDescriptionActive){n.editShippingWeightDescriptionActive=!1;var i=$.grep(n.shippingTotal,function(n){return n.ShippingId==t});i[0].editWeight=!1}};n.SubmitShippingEditor=function(i,r){showAjaxLoader();t.post("/Admin/DostawyPlatnosci/EditShippingDescription",{description:r,id:i}).success(function(t){if(t!=!1){var u=$.grep(n.shippingTotal,function(n){return n.ShippingId==i});u[0].ShippingDescription=r;u[0].editActive=!1;n.editShippingDescriptionActive=!1}hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})};n.SubmitWeightShippingEditor=function(i,r){showAjaxLoader();t.post("/Admin/DostawyPlatnosci/EditShippingWeight",{weight:r,id:i}).success(function(t){if(t!=!1){var u=$.grep(n.shippingTotal,function(n){return n.ShippingId==i});u[0].MaxWeight=r;u[0].editWeight=!1;n.editShippingWeightDescriptionActive=!1}hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})};n.SubmitPaymentEditor=function(i,r){showAjaxLoader();t.post("/Admin/DostawyPlatnosci/EditPaymentDescription",{description:r,id:i}).success(function(t){if(t!=!1){var u=$.grep(n.paymentTotal,function(n){return n.PaymentId==i});u[0].PaymentDescription=r;u[0].editActive=!1;n.editPaymentDescriptionActive=!1}hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})};n.ActivatePaymentEditor=function(t,i){if(!n.editPaymentDescriptionActive){n.editPaymentDescriptionActive=!0;var r=$.grep(n.paymentTotal,function(n){return n.PaymentId==t});r[0].editActive=!0;n.paymentEditorValue=i}};n.DeactivatePaymentEditor=function(t){if(n.editPaymentDescriptionActive){n.editPaymentDescriptionActive=!1;var i=$.grep(n.paymentTotal,function(n){return n.PaymentId==t});i[0].editActive=!1}};n.submitPaymentForm=function(i,u,f){u!=""&&i!=""&&f!=""&&isValidPrice(f)?(n.invalidPaymentForm=!1,n.invalidPaymentPrice=!1,showAjaxLoader(),t.post("/Admin/DostawyPlatnosci/AddPayment",{description:u,price:f,name:i}).success(function(t){t!=!1&&(n.paymentTotal.push(t),r(n.paymentTotal));n.addPaymentActive=!1;hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})):(n.invalidPaymentForm=!0,isValidPrice(f)||(n.invalidPaymentPrice=!0))};n.validatePaymentPrice=function(t,i,r){isValidPrice(r)&&(n.invalidPaymentPrice=!1);t!=""&&i!=""&&r!=""&&(n.invalidPaymentForm=!1)};n.validateShippingPrice=function(t,i,r,u){isValidPrice(r)&&(n.invalidShippingPrice=!1);isValidPrice(u)&&(n.invalidShippingWeight=!1);t!=""&&i!=""&&r!=""&&u!=""&&(n.invalidShippingForm=!1)};n.validatePaymentForm=function(t,i,r){t!=""&&i!=""&&r!=""&&(n.invalidPaymentForm=!1)};n.validateShippingForm=function(t,i,r){t!=""&&i!=""&&r!=""&&(n.invalidShippingForm=!1)};n.submitShippingForm=function(r,u,f,e){u!=""&&r!=""&&f!=""&&isValidPrice(f)&&isValidPrice(e)?(n.invalidShippingForm=!1,n.invalidShippingPrice=!1,n.invalidShippingWeight=!1,showAjaxLoader(),t.post("/Admin/DostawyPlatnosci/AddShipping",{description:u,price:f,name:r,weight:e}).success(function(t){t!=!1&&(n.shippingTotal.push(t),i(n.shippingTotal));n.addShippingActive=!1;hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})):(n.invalidShippingForm=!0,isValidPrice(f)||(n.invalidShippingPrice=!0),isValidPrice(e)||(n.invalidShippingWeight=!0))};n.keyPressPrice=function(n){return n.which!=8&&n.which!=0&&n.which!=46&&n.which!=44&&(n.which<48||n.which>57)?(n.preventDefault(),!1):!0};n.deletePayment=function(i){showAjaxLoader();t.post("/Admin/DostawyPlatnosci/DeletePayment",{id:i}).success(function(t){t==!0&&(n.paymentTotal=$.grep(n.paymentTotal,function(n){return n.PaymentId!=i}),r(n.paymentTotal));hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})};n.deleteShipping=function(r){showAjaxLoader();t.post("/Admin/DostawyPlatnosci/DeleteShipping",{id:r}).success(function(t){t==!0&&(n.shippingTotal=$.grep(n.shippingTotal,function(n){return n.ShippingId!=r}),i(n.shippingTotal));hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})};n.addShippingForm=function(){n.addShippingActive=!0};n.addPaymentForm=function(){n.addPaymentActive=!0};n.cancelShippingForm=function(){n.addShippingActive=!1;n.invalidShippingForm=!1;n.invalidShippingPrice=!1;n.invalidShippingWeight=!1};n.cancelPaymentForm=function(){n.addPaymentActive=!1;n.invalidPaymentForm=!1;n.invalidPaymentPrice=!1};n.activateShipping=function(i){showAjaxLoader();t.post("/Admin/DostawyPlatnosci/ActivateShipping",{id:i}).success(function(t){if(t==!0){var r=$.grep(n.shippingTotal,function(n){return n.ShippingId==i});r.length==0||r.length==1&&(r[0].Active=!0)}hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})};n.deactivateShipping=function(i){showAjaxLoader();t.post("/Admin/DostawyPlatnosci/DeactivateShipping",{id:i}).success(function(t){if(t==!0){var r=$.grep(n.shippingTotal,function(n){return n.ShippingId==i});r.length==0||r.length==1&&(r[0].Active=!1)}hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})};n.activatePayment=function(i){showAjaxLoader();t.post("/Admin/DostawyPlatnosci/ActivatePayment",{id:i}).success(function(t){if(t==!0){var r=$.grep(n.paymentTotal,function(n){return n.PaymentId==i});r.length==0||r.length==1&&(r[0].Active=!0)}hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})};n.deactivatePayment=function(i){showAjaxLoader();t.post("/Admin/DostawyPlatnosci/DeactivatePayment",{id:i}).success(function(t){if(t==!0){var r=$.grep(n.paymentTotal,function(n){return n.PaymentId==i});r.length==0||r.length==1&&(r[0].Active=!1)}hideAjaxLoader();showAjaxTick();fadeOutAjaxTick()}).error(function(){})};n.filterShippingByCheckboxes=function(){i(n.shippingTotal)};n.filterPaymentByCheckboxes=function(){r(n.paymentTotal)}}]);jQuery(document).ready(function(){showAjaxLoader();hideAjaxLoader();showAjaxTick();hideAjaxTick()});
//# sourceMappingURL=ShipingPaymentAngular.min.js.map
