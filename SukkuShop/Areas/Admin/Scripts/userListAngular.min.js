function showAjaxLoader(){var n=jQuery("#ajax-processing");n.length===0&&(jQuery("body").append("<div id='ajax-processing'><\/div>"),n=jQuery("#ajax-processing"));n.show()}function showAjaxTick(){var n=jQuery("#ajax-completetick");n.length===0&&(jQuery("body").append("<div id='ajax-completetick'>&#10004;<\/div>"),n=jQuery("#ajax-completetick"));n.show()}function fadeOutAjaxTick(){jQuery("#ajax-completetick").stop().fadeOut(1e3)}function hideAjaxTick(){jQuery("#ajax-completetick").stop().hide()}function hideAjaxLoader(){jQuery("#ajax-processing").hide()}jQuery(document).bind("mousemove",function(n){jQuery("#ajax-processing,#ajax-completetick").css({left:n.pageX+20,top:n.pageY})});jQuery(document).ready(function(){showAjaxLoader();hideAjaxLoader();showAjaxTick();hideAjaxTick()});var adminApp=angular.module("adminApp",[]),itemsPerPage=10;adminApp.controller("AdminUserCtrl",["$scope","$http","$filter",function(n,t,i){function r(t){var r=t,f,u;for(n.textFilter&&(r=i("filter")(t,{Email:n.textFilter})),n.usersOperative=r,n.pages=Math.ceil(r.length/10),f=[],u=1;u<=n.pages;u++)f.push(u);return n.tableOfPages=f,r.slice(n.currentPage*itemsPerPage-itemsPerPage,n.currentPage*itemsPerPage)}var u=i("orderBy");n.init=function(){n.selectedIndex=1;n.currentPage=1;n.textFilter="";t.get("/Admin/Klienci/GetUserList").success(function(t){n.usersTotal=t;n.usersOperative=n.usersTotal;n.usersList=r(n.usersTotal)})};n.keyPressRabat=function(n){return n.which!=8&&n.which!=0&&(n.which<48||n.which>57)?(n.preventDefault(),!1):!0};n.validateInput=function(t,i){t>100&&(n.usersList[i].Rabat=100)};n.setDiscount=function(i,u){showAjaxLoader();t.post("/Admin/Klienci/SetDiscount",{id:i,rabat:u}).success(function(t){if(t==!0){var f=$.grep(n.usersTotal,function(n){return n.Id==i});f[0].Rabat=u}hideAjaxLoader();showAjaxTick();fadeOutAjaxTick();n.usersList=r(n.usersOperative)}).error(function(){})};n.setPage=function(t){t<=0&&(t=1);t>n.pages&&(t=n.pages);n.currentPage=t;n.usersList=r(n.usersOperative)};n.filterByName=function(){n.currentPage=1;var t=i("filter")(n.usersTotal,{Email:n.textFilter});n.usersList=r(t)};n.orderByMhm=function(t,i,f){n.selectedIndex=f;n.currentPage=1;var e=u(n.usersTotal,t,i);n.usersList=r(e)}}]);
//# sourceMappingURL=userListAngular.min.js.map
