function dataForPieMonthChart(n,t){var i,r;if(dataPie.forEach(function(n){n.value=0;n.label=""}),n==maxMonth)for($("#titlepie").html("Top "+t.total.length+" zamawianych produktów"),i=0;i<t.total.length;i++)dataPie[i].label=t.total[i].name,dataPie[i].value=t.total[i].sum;else for($("#titlepie").html("Top "+t.ordersbymonth[n].products.length+" zamawianych produktów w miesiącu "+months[t.ordersbymonth[n].month-1]),r=0;r<t.ordersbymonth[n].products.length;r++)dataPie[r].label=t.ordersbymonth[n].products[r].name,dataPie[r].value=t.ordersbymonth[n].products[r].sum}function setNavigtionText(n,t){t==maxMonth?($("#left").html(months[n.ordersbymonth[n.ordersbymonth.length-1].month-1]),$("#current").html("Wszystko"),$("#right").html("")):t+1==maxMonth&&t!=0?($("#right").html("Wszystko"),$("#left").html(months[n.ordersbymonth[n.ordersbymonth.length-2].month-1]),$("#current").html(months[n.ordersbymonth[n.ordersbymonth.length-1].month-1])):t+1==maxMonth&&t==0?($("#right").html("Wszystko"),$("#left").html(""),$("#current").html(months[n.ordersbymonth[n.ordersbymonth.length-1].month-1])):t==0&&maxMonth!=1?($("#left").html(""),$("#right").html(months[n.ordersbymonth[1].month-1]),$("#current").html(months[n.ordersbymonth[0].month-1])):t==0&&maxMonth!=1?($("#right").html("Wszystko"),$("#left").html(""),$("#current").html(months[n.ordersbymonth[t].month-1])):($("#right").html(months[n.ordersbymonth[t+1].month-1]),$("#left").html(months[n.ordersbymonth[t-1].month-1]),$("#current").html(months[n.ordersbymonth[t].month-1]))}var dataPie=[{value:0,color:"rgba(255, 102, 0, 0.8)",highlight:"rgba(255, 102, 0, 0.6)",label:""},{value:0,color:"rgba(0, 196, 40, 0.8)",highlight:"rgba(0, 196, 40, 0.6)",label:""},{value:0,color:"rgba(250, 30, 30, 0.8)",highlight:"rgba(250, 30, 30, 0.6)",label:""},{value:0,color:"rgba(181, 22, 160, 0.8)",highlight:"rgba(181, 22, 160, 0.6)",label:""},{value:0,color:"rgba(43, 22, 181, 0.8)",highlight:"rgba(43, 22, 181, 0.6)",label:""},{value:0,color:"rgba(22, 144, 181, 0.8)",highlight:"rgba(22, 144, 181, 0.6)",label:""},{value:0,color:"rgba(181, 96, 22, 0.8)",highlight:"rgba(181, 96, 22, 0.6)",label:""},{value:0,color:"rgba(247, 232, 10, 0.8)",highlight:"rgba(247, 232, 10, 0.6)",label:""},{value:0,color:"rgba(255, 179, 0, 0.8)",highlight:"rgba(255, 179, 0, 0.6)",label:""},{value:0,color:"rgba(0, 255, 128, 0.8)",highlight:"rgba(0, 255, 128, 0.6)",label:""}],chartData={labels:[],datasets:[{label:"My Second dataset",fillColor:"rgba(255, 102, 0, 0.2)",strokeColor:"rgba(255, 102, 0, 1)",pointColor:"rgba(255, 102, 0, 1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(255, 102, 0, 1)",data:[]}]},options={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<dataPie.length; i++){%><li><span style="background-color:<%=dataPie[i].strokeColor%>"><\/span><%if(dataPie[i].label){%><%=dataPie[i].label%><%}%><\/li><%}%><\/ul>'},months=["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],maxMonth=0,selectedmonth=-1,piedataplz,chartdataplz;$("#left").click(function(){if(selectedmonth>0){selectedmonth--;setNavigtionText(piedataplz,selectedmonth);dataForPieMonthChart(selectedmonth,piedataplz);$("#canvas-wrapper").html("").html("<canvas id='top5productsChart' width='800' height='400' style='margin:auto;display: block;'><\/canvas>");var n=$("#top5productsChart").get(0).getContext("2d"),t=new Chart(n).Pie(dataPie,options)}});$("input:radio[id=days]").click(function(){var n,t,i;for(chartData.labels=[],chartData.datasets[0].data=[],n=0;n<chartdataplz.days.length;n++)chartData.labels.push(chartdataplz.days[n].date),chartData.datasets[0].data.push(chartdataplz.days[n].count);$("#canvas-line-wrapper").html("").html("<canvas id='ordersChart' width='800' height='400' style='margin:auto;display: block;'><\/canvas>");t=$("#ordersChart").get(0).getContext("2d");i=new Chart(t).Line(chartData,options)});$("input:radio[id=months]").click(function(){var n,t,i;for(chartData.labels=[],chartData.datasets[0].data=[],n=0;n<chartdataplz.months.length;n++)chartData.labels.push(chartdataplz.months[n].date),chartData.datasets[0].data.push(chartdataplz.months[n].count);$("#canvas-line-wrapper").html("").html("<canvas id='ordersChart' width='800' height='400' style='margin:auto;display: block;'><\/canvas>");t=$("#ordersChart").get(0).getContext("2d");i=new Chart(t).Line(chartData,options)});$("#right").click(function(){if(selectedmonth<=maxMonth){selectedmonth++;setNavigtionText(piedataplz,selectedmonth);dataForPieMonthChart(selectedmonth,piedataplz);$("#canvas-wrapper").html("").html("<canvas id='top5productsChart' width='800' height='400' style='margin:auto;display: block;'><\/canvas>");var n=$("#top5productsChart").get(0).getContext("2d"),t=new Chart(n).Pie(dataPie,options)}});piedataplz=[];chartdataplz=[];$(document).ready(function(){$.get("/Admin/Statystyki/GetOrderData",function(n){for(var i,r,t=0;t<n.days.length;t++)chartData.labels.push(n.days[t].date),chartData.datasets[0].data.push(n.days[t].count);chartdataplz=n;i=$("#ordersChart").get(0).getContext("2d");r=new Chart(i).Line(chartData,options)}).error(function(n,t,i){alert(i);console.log(n.responseText)});$.get("/Admin/Statystyki/GetTopProducts",function(n){maxMonth=n.ordersbymonth.length;selectedmonth=maxMonth;dataForPieMonthChart(selectedmonth,n);piedataplz=n;setNavigtionText(n,selectedmonth);var t=$("#top5productsChart").get(0).getContext("2d"),i=new Chart(t).Pie(dataPie,options)}).error(function(n,t,i){alert(i);console.log(n.responseText)});$.get("/Admin/Statystyki/GetOrdersByCategory",function(){}).error(function(n,t,i){alert(i);console.log(n.responseText)})});
//# sourceMappingURL=StatisticsAdmin.min.js.map
