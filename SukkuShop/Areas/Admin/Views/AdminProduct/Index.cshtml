@{
    ViewBag.Title = "Lista produktów";
}
@Scripts.Render("~/Scripts/angular.js")
@Scripts.Render("~/Areas/Admin/Scripts/productListAngular.js")

<div ng-app="adminApp">
    <div ng-controller="AdminProdCtrl" ng-init="init()">
        
        <input type="text" ng-model="textFilter" ng-change="filterByName()" />
        <label for="published">Na sklepie</label>
        <input type="checkbox" ng-model="published" id="published" ng-change="filterByCheckboxes()"/>

        <label for="wrongmodel">Błędne</label>
        <input type="checkbox" ng-model="wrongmodel" id="wrongmodel" ng-change="filterByCheckboxes()"  />

        <label for="isready">Gotowe do wystawienia</label>
        <input type="checkbox" ng-model="isready" id="isready" ng-change="filterByCheckboxes()" />

        <ul>
            <li ng-class="{ 'bolded': 0 == selectedCategory }" ng-click="itemClicked(0)">Wszystko</li>
            <li ng-repeat="category in categories" ng-class="{ 'bolded': category.CategoryId == selectedCategory }"
                ng-click="itemClicked(category.CategoryId,$event)">
                {{category.Name}}
                <ul>
                    <li ng-repeat="subcategory in category.subcategories" class="selectedOpt unbold" ng-class="{ 'bolded': subcategory.CategoryId == selectedCategory}"
                        ng-click="itemClicked(subcategory.CategoryId,$event)">
                        {{subcategory.Name}}
                    </li>
                </ul>
            </li>
        </ul>
        <table style="width:800px">
            <tr ng-repeat="item in productsList">
                <td>{{item.ProductId}}</td>
                <td>{{item.Name}}</td>
                <td>{{item.IsComplete}}</td>
                <td>{{item.WrongModel}}</td>
                <td>{{item.Published}}</td>
            </tr>
        </table>
        <div id="paginator" ng-if="pages>1">
            <ul class="shop-paginator">
                <li>
                    <div class="paging-arrow-left" ng-click="setPage(currentPage-1)"></div>
                </li>
                <li class="inner-paginator" ng-repeat="page in tableOfPages" style="display: inline-block">
                    <div ng-if="page==currentPage">
                        <div class="paginator-box" style="font-weight: bold" ng-click="setPage($index+1)">{{page}}</div>
                    </div>
                    <div ng-if="page!=currentPage">
                        <div class="paginator-box" ng-click="setPage($index+1)">{{page}}</div>
                    </div>
                </li>
                <li>
                    <div class="paging-arrow-right" ng-click="setPage(currentPage+1)"></div>
                </li>
            </ul>
        </div>
    </div>
</div>

