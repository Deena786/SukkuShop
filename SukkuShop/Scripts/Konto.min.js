function showAjaxLoader(){var n=$("#ajax-processing");n.length===0&&($("body").append("<div id='ajax-processing'><\/div>"),n=$("#ajax-processing"));n.show()}function hideAjaxLoader(){$("#ajax-processing").hide()}function onError(n,t,i){alert(i);console.log(n.responseText)}function changeFirmaInfo(){hideAjaxLoader();$("#changeFirmaInfoForm").validate({rules:{NazwaFirmy:{minlength:2,regex:/^[A-Ża-ż 0-9-]*$|^Nie podano$/},Nip:{minlength:10,regex:/^[0-9]{10}$|^Nie podano$/},Street:{minlength:2,regex:/^[A-Ża-ż -0-9]*$|^Nie podano$/},Number:{regex:/^[1-9][0-9]{0,4}[A-Ża-ż]{0,1}[/]?[0-9]*$|^Nie podano$/},City:{minlength:2,regex:/^[A-Ża-ż]*[-, ]{0,1}[A-Ża-ż]*[-, ]{0,1}[A-Ża-ż]*$|^Nie podano$/},Telefon:{regex:/^[1-9][0-9]{8}$|^[1-9][0-9]{2}[' ']{1}[0-9]{3}[' ']{1}[0-9]{3}$|^Nie podano$/},PostalCode:{regex:/^[0-9]{2}-[0-9]{3}$|^Nie podano$/},Email:{required:!0,email:!0}},messages:{NazwaFirmy:{minlength:"Nazwa firmy musi zawierać conajmniej 2 znaki.",regex:"Nazwa firmy jest niepoprawna."},Nip:{minlength:"NIP to 10 cyfr.",regex:"NIP jest niepoprawny."},Street:{minlength:"Ulica musi zawierać conajmniej 2 znaki.",regex:"Ulica jest niepoprawna."},Number:{regex:"Numer domu jest niepoprawny."},City:{minlength:"Miasto musi zawierać conajmniej 2 znaki.",regex:"Miasto jest niepoprawne."},Telefon:{regex:"Numer telefonu jest niepoprawny."},PostalCode:{regex:"Kod pocztowy jest niepoprawny."},Email:{required:"Email jest wymagany.",email:"Podaj poprawny adres email."}}})}function changeuserInfo(){hideAjaxLoader();$("#changeUserInfoForm").validate({rules:{Name:{minlength:2,regex:/^[A-Ża-ż]*$|^Nie podano$/},LastName:{minlength:2,regex:/^[A-Ża-ż -]*$|^Nie podano$/},Street:{minlength:2,regex:/^[A-Ża-ż]*[-, ]{0,1}[A-Ża-ż]*[-, ]{0,1}[A-Ża-ż]*$|^Nie podano$/},Number:{regex:/^[1-9][0-9]{0,4}[A-Ża-ż]{0,1}[/]?[0-9]*$|^Nie podano$/},City:{minlength:2,regex:/^[A-Ża-ż]*[-, ]{0,1}[A-Ża-ż]*[-, ]{0,1}[A-Ża-ż]*$|^Nie podano$/},Telefon:{regex:/^[1-9][0-9]{8}$|^[1-9][0-9]{2}[' ']{1}[0-9]{3}[' ']{1}[0-9]{3}$|^Nie podano$/},PostalCode:{regex:/^[0-9]{2}-[0-9]{3}$|^Nie podano$/},Email:{required:!0,email:!0}},messages:{Name:{minlength:"Imie musi zawierać conajmniej 2 znaki.",regex:"Imie jest niepoprawne."},LastName:{minlength:"Nazwisko musi zawierać conajmniej 2 znaki.",regex:"Nazwisko jest niepoprawne."},Street:{minlength:"Ulica musi zawierać conajmniej 2 znaki.",regex:"Ulica jest niepoprawna."},Number:{regex:"Numer domu jest niepoprawny."},City:{minlength:"Miasto musi zawierać conajmniej 2 znaki.",regex:"Miasto jest niepoprawne."},Telefon:{regex:"Numer telefonu jest niepoprawny."},PostalCode:{regex:"Kod pocztowy jest niepoprawny."},Email:{required:"Email jest wymagany.",email:"Podaj poprawny adres email."}}})}function changePasswordForm(){$("#changePasswordForm").validate({rules:{OldPassword:{required:!0,minlength:6},NewPassword:{required:!0,minlength:6},ConfirmPassword:{equalTo:"#NewPassword"}},messages:{OldPassword:{required:"Wprowadź stare hasło.",minlength:"Stare hasło musi zawierać 6 lub więcej znaków."},NewPassword:{required:"Wprowadź nowe hasło.",minlength:"Nowe hasło musi zawierać 6 lub więcej znaków."},ConfirmPassword:{equalTo:"Nowe hasła muszą być takie same."}}})}$(document).ready(function(){$.validator.addMethod("regex",function(n,t,i){return i.test(n)},"Nieprawidłowa wartość");$.validator.addMethod("notEqual",function(n,t,i){return this.optional(t)||n!=i},"Proszę podać inną wartość");$(".details-container").delegate(".data-box input","focus",function(){$(this).val()=="Nie podano"&&$(this).val("");$(this).siblings(".field-validation-error").html("")!=""&&($(this).siblings(".field-validation-error").html(""),$(this).removeClass("input-validation-error"))});changeuserInfo();changeFirmaInfo();changePasswordForm();$(".change-container").delegate("input","keypress",function(n){n.keyCode==13&&$(this).closest("form").submit()});$(".change-container").delegate("input[id=firmafalse]","click",function(){showAjaxLoader();$.ajax({url:"/Konto/ChangeUserInfoViewModel",contentType:"application/html; charset=utf-8",type:"GET",error:function(n,t,i){onError(n,t,i)},complete:function(){changeuserInfo()}}).success(function(n){setTimeout(hideAjaxLoader,1e3);$("#replace").empty().append(n);changeuserInfo()})});$(".change-container").delegate("input[id=firmatrue]","click",function(){showAjaxLoader();$.ajax({url:"/Konto/ChangeUserFirmaInfoViewModel",contentType:"application/html; charset=utf-8",type:"GET",error:function(n,t,i){onError(n,t,i)},complete:function(){changeFirmaInfo()}}).success(function(n){setTimeout(hideAjaxLoader,1e3);$("#replace").empty().append(n);changeFirmaInfo()})});$("#ajax-processing").hide();$(document).bind("mousemove",function(n){$("#ajax-processing").css({left:n.pageX+20,top:n.pageY})});$("#replace").delegate("#save-nofirma","click",function(){$("#changeUserInfoForm").submit()});$("#replace").delegate("#save-firma","click",function(){$("#changeFirmaInfoForm").submit()});$("#pass-replace").delegate("#save-pass","click",function(){$("#changePasswordForm").submit()})});
//# sourceMappingURL=Konto.min.js.map
