function currency(n){return n=parseFloat(n),isNaN(n)?!1:n.toFixed(2)}function plz(n){var r=$("#cart-price-header").html().toLowerCase().replace("&nbsp;"," ").replace("zł","").replace("koszyk","").replace(" ",""),t,i;parseFloat(r)!=parseFloat(n.value)?(t=$("#img"+n.id).parent().parent().parent().parent().children("div.add-to-cart-info"),t.css("color","green"),t.html("&#10003;"),t.stop().show("fast",function(){t.fadeOut(2500)}),$("#cart-price-header").html("koszyk "+n.value+" zł")):(i=$("#img"+n.id).parent().parent().parent().parent().children("div.add-to-cart-info"),i.css("color","red"),i.html("&#10006;"),i.stop().show("fast",function(){i.fadeOut(2500)}))}var shopApp=angular.module("shopApp",[]),itemsPerPage=12;shopApp.controller("ShopCtrl",["$scope","$http","$filter",function(n,t,i){function r(){var t,e,u,r,o,f;if(t=n.selectedIndex!=n.subCategoryList.length-1?i("filter")(n.products.productList,{Category:n.subCategoryList[n.selectedIndex]}):n.products.productList,n.onlyavailable){for(e=[],u=0;u<t.length;u++)t[u].QuantityInStock!=0&&e.push(t[u]);t=e}r=i("orderBy");switch(n.sortMethod){case"Nowosc":t=r(t,"DateAdded",!1);break;case"Popularnosc":t=r(t,"OrdersCount",!0);break;case"CenaRosnaco":t=r(t,"PriceAfterDiscount",!1);break;case"CenaMalejaco":t=r(t,"PriceAfterDiscount",!0);break;case"Promocja":t=r(t,"Promotion",!0)}for(n.pages=Math.ceil(t.length/12),o=[],f=1;f<=n.pages;f++)o.push(f);return n.tableOfPages=o,t.slice(n.currentPage*12-12,n.currentPage*12)}n.init=function(i){n.sortMethod="Nowosc";n.currentPage=1;n.category=i;n.onlyavailable=!1;n.category==""?(t.get("/Sklep/GetProductByCategory").success(function(t){n.products=t;n.subCategoryList=n.products.subcategoryList;n.selectedIndex=n.subCategoryList.length-1;n.productList=r()}),n.imgName="inne"):t.get("/Sklep/GetProductByCategory/"+n.category).success(function(t){n.products=t;n.subCategoryList=n.products.subcategoryList;n.selectedIndex=n.subCategoryList.length-1;n.productList=r();n.imgName=n.products.categoryId!=0?i.toLowerCase():"inne"})};n.itemClicked=function(t){n.selectedIndex=t;n.currentPage=1;n.productList=r()};n.setSortMethod=function(t){n.sortMethod=t;n.currentPage=1;n.productList=r()};n.setPage=function(t){t<=0&&(t=1);t>n.pages&&(t=n.pages);n.currentPage=t;n.productList=r()};n.filterByCheckboxes=function(){n.currentPage=1;n.productList=r()}}]);jQuery(document).ready(function(){jQuery("#add-to-cart-info").hide();jQuery("ul.sort-menu div.plz").click(function(){jQuery("ul.sort-menu div.plz").css("opacity","0.6");jQuery("ul.sort-menu li.sort-box #sort-text").css("font-weight","normal");jQuery(this).css("opacity","1");jQuery(this).siblings("#sort-text").css("font-weight","bold");jQuery(this).parent().siblings("#sort-text").css("font-weight","bold")})});
//# sourceMappingURL=shopAngular.min.js.map
